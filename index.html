<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image" href="/logo.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <title>Kingdom Lifestyle Radio</title>

  <style>
    .anim {
      animation: btn infinite 1s ease-in-out;
    }
    @keyframes btn {
      0% { transform: scale(1)}
      50% {transform: scale(1.4);}
      100% { transform: scale(1)}
    }
  </style>
</head>

<body>
  <div id="root"></div>
  <div style="display: none">
    <audio id="english" controls>
      <source src="https://s3.voscast.com:9425/stream" type="audio/mpeg" />
      Your browser does not support the audio element
    </audio>

    <audio id="yoruba" controls>
      <source src="https://s3.voscast.com:10745/stream" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

  </div>

  <div id="panel" class="fixed w-full p-5 bottom-0 z-50 text-black bg-teal-950 transform transition-all">
    <h1 onclick="slide()" class="absolute p-3 text-white left-0 top-0 bg-teal-950 transform translate-y-[-100%]"><i class="fa-solid fa-chevron-down"></i></h1>
    <div class="flex items-center justify-between">
      <div class="flex gap-5 items-center flex-wrap">
        <div>
          <p class="text-xs text-white">Tap to switch channel</p>
          <div id="channel" onClick="switchChannel()" class="w-max p-2 text-xs bg-[#4def0d] rounded font-bold">Yoruba Channel
          </div>
        </div>
        <div class=" font-extrabold text-white text-center">
          <h1 class="font-normal w-max text-xs rounded-lg text-white text-left bg-[#611b1b] p-1">Now Playing</h1>
          <div id="label1" class="font-extrabold text-white block">
            <script type="text/javascript" src="//cdn.voscast.com/stats/display.js?key=52956cb97e3346844d675017b015e812&amp;stats=songtitle"></script>
          </div>
          <div class="hidden" id="label2">
            <script type="text/javascript" src="//cdn.voscast.com/stats/display.js?key=b0efa0f92cbc549376adc57820449e50&stats=songtitle"></script> 
          </div>
        </div>
      </div>
      <div id="playaudio" class="p-2 w-[50px] rounded-md flex justify-center bg-teal-500 anim" id="pauseplay" onClick="playaudio()"><i class="fa-solid fa-play"></i></div>
      </div>

  </div>

  <script>
    const global = globalThis
  </script>
  <script type="module" src="/src/main.jsx"></script>
  <script>

    const english = document.querySelector('#english');
    const yoruba = document.querySelector('#yoruba');
    const pausePlay = document.querySelector('#pauseplay');

    let currentAudio = english
    
    const playaudio = () =>{
          const playaudio = document.querySelector('#playaudio');


          playaudio.classList.remove('anim')
      if(currentAudio.paused){
        currentAudio.play()
        pausePlay.innerHTML = `<i class="fa-solid fa-pause"></i>`
      }else{
        currentAudio.pause();
        pausePlay.innerHTML = `<i class="fa-solid fa-play"></i>`
      }
      }

    if (yoruba.play) {
        yoruba.pause()
        english.play()
    }

    const playEnglish = () => {
      const english = document.querySelector('#english');
      const yoruba = document.querySelector('#yoruba');

      if (yoruba.play) {
        yoruba.pause()
      }
      english.play()
    }


    const playYoruba = () => {
      const english = document.querySelector('#english');
      const yoruba = document.querySelector('#yoruba');

      if (english.play) {
        english.pause()
      }

      yoruba.play();
    }


    const switchChannel = () => {
      const label = document.querySelector('#label1');
      const label2 = document.querySelector('#label2');
      const channel = document.querySelector('#channel');

      currentAudio.pause()
      currentAudio = (currentAudio === english) ? yoruba : english;

      currentAudio.play()
     
      channel.classList.remove('anim');


      if (currentAudio === english) {
        channel.textContent = "Yoruba Channel"
        label.classList.add("block")
        label.classList.remove("hidden")
        label2.classList.add("hidden")
        label2.classList.remove("block")
      } else {
        channel.textContent = "English Channel"
        label.classList.add("hidden")
        label2.classList.remove("block")
        label.classList.add("block")
        label2.classList.remove("hidden")

      }
    
    }

    let show = true
    
    const slide = () =>{
      const panel = document.querySelector('#panel');
      const down = document.querySelector('.fa-chevron-down');
      if(show){
        panel.classList.add('translate-y-[100%]');
        down.style.transform = `rotate(180deg)`
      }else{
        panel.classList.remove('translate-y-[100%]');
        down.style.transform = `rotate(0deg)`
      }
        show = !show
    }




  </script>
</body>

</html>