<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <title>KLSR</title>
</head>

<body>
  <div id="root"></div>
  <div style="display: none">
    <audio id="english" controls>
      <source src="https://s3.voscast.com:9425/stream" type="audio/mpeg" />
      Your browser does not support the audio element
    </audio>

    <audio id="yoruba" controls>
      <source src="https://s3.voscast.com:10745/stream" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

  </div>

  <div id="panel" class="fixed w-full p-5 bottom-0 z-50 text-black bg-teal-950 transform transition-all">
    <h1 onclick="slide()" class="absolute p-2 left-0 top-0 bg-white transform translate-y-[-100%]">Wow</h1>
    <div class="flex gap-5 items-center flex-wrap">
      <div>
        <p class="text-xs text-white">Tap to switch channel</p>
        <div id="channel" onClick="switchChannel()" class="w-max p-2 text-xs bg-teal-600 rounded font-bold">Play Radio
        </div>
      </div>
      <div class=" font-extrabold text-white text-center">
        <h1 class="font-normal w-max text-xs rounded-lg text-white text-left bg-[#611b1b] p-1">Now Playing</h1>
        <div id="label1" class="font-extrabold text-white block">
          <script class="" type="text/javascript" src="//cdn.voscast.com/stats/display.js?key=52956cb97e3346844d675017b015e812&amp;stats=songtitle"></script>
        </div>
        <div class="hidden" id="label2">
          <script type="text/javascript" src="//cdn.voscast.com/stats/display.js?key=b0efa0f92cbc549376adc57820449e50&stats=songtitle"></script> 
        </div>
      </div>
    </div>

  </div>

  <script type="module" src="/src/main.jsx"></script>
  <script>

    let isEnglish = false

    const playEnglish = () => {
      const english = document.querySelector('#english');
      const yoruba = document.querySelector('#yoruba');

      if (yoruba.play) {
        yoruba.pause()
      }
      english.play()
    }


    const playYoruba = () => {
      const english = document.querySelector('#english');
      const yoruba = document.querySelector('#yoruba');

      if (english.play) {
        english.pause()
      }

      yoruba.play();
    }


    const switchChannel = () => {
      const label = document.querySelector('#label1');
      const label2 = document.querySelector('#label2');
      const channel = document.querySelector('#channel');
      isEnglish = !isEnglish;


      if (isEnglish) {
        channel.textContent = "English Channel"
        playEnglish();
        label.classList.add("block")
        label.classList.remove("hidden")
        label2.classList.add("hidden")
        label2.classList.remove("block")
      } else {
        channel.textContent = "Yoruba Channel"
        playYoruba()
        label.classList.add("hidden")
        label2.classList.remove("block")
        label.classList.add("block")
        label2.classList.remove("hidden")

      }
    
    }

    const panel = document.querySelector('#panel')
    let show = true

    const slide = () =>{
      if(show){
        panel.classList.add('translate-y-[100%]');
      }else{
        panel.classList.remove('translate-y-[100%]');
      }
        show = !show
    }


  </script>
</body>

</html>